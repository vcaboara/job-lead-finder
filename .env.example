# Environment Configuration for Job Lead Finder
# Copy this file to .env and fill in your actual values

# ============================================================================
# TOKEN OPTIMIZATION - PRIORITY ORDER (Free â†’ Paid)
# ============================================================================

# 1. LOCAL OLLAMA (FREE - highest priority for all AI tasks)
#    Use for: job evaluation, code generation, reviews, testing
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=deepseek-coder:6.7b

# 2. GEMINI (FREE tier - fallback when Ollama unavailable)
#    Free tier: 15 requests/minute, 1500/day
#    Get key: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here
GOOGLE_API_KEY=${GEMINI_API_KEY}

# 3. GITHUB COPILOT (PAID - use sparingly for inline coding only)
#    Get token: https://github.com/settings/tokens
#    Scopes: repo, workflow
GITHUB_TOKEN=your_github_token_here

# 4. OPENAI (EXPENSIVE - emergency fallback only)
#    Cost: ~$0.03 per request
#    Get key: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-your-key-here

# 5. ANTHROPIC (EXPENSIVE - emergency fallback only)
#    Cost: ~$0.015 per request
# ANTHROPIC_API_KEY=sk-ant-your-key-here

# ============================================================================
# JOB SEARCH APIs
# ============================================================================

# RapidAPI (for JSearch company discovery)
# Get key: https://rapidapi.com/letscrape-6bRBa3QguO5/api/jsearch
RAPIDAPI_KEY=your_rapidapi_key_here

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Force use of Ollama for job evaluation (recommended)
USE_OLLAMA=true

# Prefer local AI over cloud APIs (recommended)
PREFER_LOCAL_AI=true

# Maximum concurrent API requests
MAX_CONCURRENT_REQUESTS=3

# Job search filters
JOB_SEARCH_LOCATION=Remote
JOB_SEARCH_KEYWORDS=python,backend,fullstack

# ============================================================================
# DOCKER/DEPLOYMENT SETTINGS
# ============================================================================

# Ollama tunnel URL for GitHub Actions (set as GitHub secret too)
# Get from: docker compose logs ollama-tunnel | grep https://
# OLLAMA_TUNNEL_URL=https://your-tunnel.trycloudflare.com

# Azure OpenAI (optional, enterprise only)
# AZURE_OPENAI_API_KEY=your-azure-key
# AZURE_OPENAI_MODEL_DEPLOYMENT=gpt-4o-ms

# ============================================================================
# INSTRUCTIONS
# ============================================================================

# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Fill in at minimum:
#    - GEMINI_API_KEY (for job search when Ollama unavailable)
#    - GITHUB_TOKEN (for version automation)
#    - RAPIDAPI_KEY (for company discovery)
#
# 3. Start Ollama:
#    docker compose up -d ollama
#
# 4. Download models (one-time):
#    python scripts/setup_ollama_models.py
#
# 5. Verify setup:
#    python -c "from src.app.job_finder import _get_evaluation_provider; print(type(_get_evaluation_provider()).__name__)"
#    Expected output: "OllamaProvider"
#
# 6. Start application:
#    docker compose up -d

# ============================================================================
# TOKEN USAGE MONITORING
# ============================================================================

# Check Copilot quota: https://github.com/settings/copilot
# Check Gemini usage: https://aistudio.google.com/app/apikey
# Check Ollama performance: docker stats job-lead-finder-ollama-1

# Goal: <50% monthly Copilot quota by using Ollama for 80% of tasks
